# OpenClaw Secrets Configuration
#
# IMPORTANT: This is an EXAMPLE file showing the structure of secrets needed.
# DO NOT commit actual secrets to git!
#
# To use:
# 1. Copy this file: cp secrets.yaml.example secrets.yaml
# 2. Fill in actual values (remove <PLACEHOLDER> markers)
# 3. Apply to cluster: kubectl apply -f secrets.yaml
# 4. Verify: kubectl get secret nexus-secrets -n nexus -o yaml
#
# Note: Some secrets may already exist in the nexus namespace from other services.
# Check before creating: kubectl get secrets -n nexus

---
apiVersion: v1
kind: Secret
metadata:
  name: nexus-secrets
  namespace: nexus
  labels:
    app: nexus-openclaw
    component: plugin
type: Opaque
stringData:
  # PostgreSQL credentials
  POSTGRES_PASSWORD: "<POSTGRES_PASSWORD_HERE>"
  POSTGRES_USER: "nexus"
  POSTGRES_DB: "unified_nexus"

  # Nexus API key for service-to-service authentication
  NEXUS_API_KEY: "<NEXUS_API_KEY_HERE>"

  # JWT secret for authentication
  JWT_SECRET: "<JWT_SECRET_HERE>"

  # Neo4j credentials (if needed)
  NEO4J_PASSWORD: "<NEO4J_PASSWORD_HERE>"

---
apiVersion: v1
kind: Secret
metadata:
  name: api-keys
  namespace: nexus
  labels:
    app: nexus-openclaw
    component: plugin
type: Opaque
stringData:
  # Anthropic API key for Claude models
  ANTHROPIC_API_KEY: "<ANTHROPIC_API_KEY_HERE>"

  # OpenRouter API key for multi-model access
  OPENROUTER_API_KEY: "<OPENROUTER_API_KEY_HERE>"

  # Voyage AI API key for embeddings (if needed)
  VOYAGE_API_KEY: "<VOYAGE_API_KEY_HERE>"

---
# Example: How to create secrets from command line
#
# From literal values:
# kubectl create secret generic nexus-secrets -n nexus \
#   --from-literal=POSTGRES_PASSWORD='your-password' \
#   --from-literal=NEXUS_API_KEY='your-api-key' \
#   --from-literal=JWT_SECRET='your-jwt-secret'
#
# kubectl create secret generic api-keys -n nexus \
#   --from-literal=ANTHROPIC_API_KEY='sk-ant-...' \
#   --from-literal=OPENROUTER_API_KEY='sk-or-...'
#
# From environment variables:
# kubectl create secret generic nexus-secrets -n nexus \
#   --from-literal=POSTGRES_PASSWORD="${POSTGRES_PASSWORD}" \
#   --from-literal=NEXUS_API_KEY="${NEXUS_API_KEY}" \
#   --from-literal=JWT_SECRET="${JWT_SECRET}"
#
# From files:
# kubectl create secret generic api-keys -n nexus \
#   --from-file=ANTHROPIC_API_KEY=./anthropic-key.txt \
#   --from-file=OPENROUTER_API_KEY=./openrouter-key.txt
#
# Verify secrets exist:
# kubectl get secrets -n nexus
# kubectl describe secret nexus-secrets -n nexus
# kubectl get secret api-keys -n nexus -o jsonpath='{.data}' | jq
#
# Update existing secret:
# kubectl patch secret nexus-secrets -n nexus \
#   -p '{"stringData":{"POSTGRES_PASSWORD":"new-password"}}'
